<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>TreoDoiVN - N·ªÅn T·∫£ng Trao ƒê·ªïi S·∫£n Ph·∫©m</title>
    <link rel="stylesheet" href="style.css" />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
      rel="stylesheet"
    />
  </head>
  <body>
    <!-- Header -->
    <header class="header">
      <div class="container">
        <div class="header-content">
          <!-- Logo -->
          <div class="logo">
            <i class="fas fa-exchange-alt"></i>
            <span>TreoDoiVN</span>
          </div>

          <!-- Navigation -->
          <nav class="nav">
            <a href="#home" data-testid="link-home">Trang Ch·ªß</a>
            <a href="#products" data-testid="link-products">S·∫£n Ph·∫©m</a>
            <a href="#exchanges" data-testid="link-exchanges">Trao ƒê·ªïi</a>
            <a href="#about" data-testid="link-about">V·ªÅ Ch√∫ng T√¥i</a>
          </nav>

          <!-- Search -->
          <div class="search-box">
            <input
              type="text"
              placeholder="T√¨m ki·∫øm s·∫£n ph·∫©m..."
              data-testid="input-search"
            />
            <i class="fas fa-search"></i>
          </div>

          <!-- User Actions -->
          <div class="user-actions">
            <button class="btn-icon" data-testid="button-notifications">
              <i class="fas fa-bell"></i>
              <span class="notification-dot"></span>
            </button>

            <div class="dropdown">
              <button
                class="btn-icon dropdown-trigger"
                data-testid="button-settings"
              >
                <i class="fas fa-cog"></i>
              </button>
              <div class="dropdown-menu">
                <a href="#" data-testid="menu-profile"
                  ><i class="fas fa-user"></i> H·ªì S∆°</a
                >
                <a href="#" data-testid="menu-preferences"
                  ><i class="fas fa-cog"></i> T√πy Ch·ªçn</a
                >
                <a href="#" data-testid="menu-help"
                  ><i class="fas fa-question-circle"></i> Tr·ª£ Gi√∫p</a
                >
                <hr />
                <a href="#" class="logout" data-testid="menu-logout"
                  ><i class="fas fa-sign-out-alt"></i> ƒêƒÉng Xu·∫•t</a
                >
              </div>
            </div>

            <div class="user-info">
              <img
                src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150&h=150&fit=crop&crop=face"
                alt="User Avatar"
                class="avatar"
              />
              <span data-testid="text-username">Minh Ho√†ng</span>
            </div>

            <button
              class="mobile-menu-btn"
              onclick="toggleMobileNav()"
              data-testid="button-mobile-menu"
            >
              <i class="fas fa-bars"></i>
            </button>
          </div>
        </div>
      </div>
    </header>

    <!-- Hero Section -->
    <section class="hero">
      <div class="container">
        <div class="hero-content">
          <h1>N·ªÅn T·∫£ng Trao ƒê·ªïi S·∫£n Ph·∫©m H√†ng ƒê·∫ßu Vi·ªát Nam</h1>
          <p>
            K·∫øt n·ªëi, trao ƒë·ªïi v√† chia s·∫ª nh·ªØng s·∫£n ph·∫©m y√™u th√≠ch v·ªõi c·ªông ƒë·ªìng.
            M·ªçi giao d·ªãch ƒë·ªÅu minh b·∫°ch v√† c√¥ng b·∫±ng v·ªÅ gi√° tr·ªã.
          </p>

          <!-- Statistics -->
          <div class="stats">
            <div class="stat-item">
              <div class="stat-number" data-testid="stats-products">
                12,450+
              </div>
              <div class="stat-label">S·∫£n Ph·∫©m</div>
            </div>
            <div class="stat-item">
              <div class="stat-number" data-testid="stats-exchanges">
                8,230+
              </div>
              <div class="stat-label">Giao D·ªãch Th√†nh C√¥ng</div>
            </div>
            <div class="stat-item">
              <div class="stat-number" data-testid="stats-users">25,600+</div>
              <div class="stat-label">Th√†nh Vi√™n</div>
            </div>
          </div>

          <div class="hero-buttons">
            <button
              class="btn btn-primary"
              onclick="openPostModal()"
              data-testid="button-post-product"
            >
              <i class="fas fa-plus"></i>
              ƒêƒÉng S·∫£n Ph·∫©m
            </button>
            <button
              class="btn btn-secondary"
              onclick="scrollToProducts()"
              data-testid="button-explore"
            >
              <i class="fas fa-search"></i>
              Kh√°m Ph√° Ngay
            </button>
          </div>
        </div>
      </div>
    </section>

    <!-- Filter Section -->
    <section class="filter-section">
      <div class="container">
        <div class="filter-content">
          <div class="categories">
            <button
              class="category-btn active"
              data-category="all"
              data-testid="button-category-all"
            >
              T·∫•t C·∫£
            </button>
            <button
              class="category-btn"
              data-category="dien-tu"
              data-testid="button-category-dien-tu"
            >
              ƒêi·ªán T·ª≠
            </button>
            <button
              class="category-btn"
              data-category="thoi-trang"
              data-testid="button-category-thoi-trang"
            >
              Th·ªùi Trang
            </button>
            <button
              class="category-btn"
              data-category="sach"
              data-testid="button-category-sach"
            >
              S√°ch
            </button>
            <button
              class="category-btn"
              data-category="gia-dung"
              data-testid="button-category-gia-dung"
            >
              ƒê·ªì Gia D·ª•ng
            </button>
            <button
              class="category-btn"
              data-category="the-thao"
              data-testid="button-category-the-thao"
            >
              Th·ªÉ Thao
            </button>
          </div>

          <div class="sort-filter">
            <select class="sort-select" data-testid="select-sort">
              <option value="newest">M·ªõi Nh·∫•t</option>
              <option value="price-high">Gi√° Tr·ªã Cao</option>
              <option value="price-low">Gi√° Tr·ªã Th·∫•p</option>
              <option value="popular">Ph·ªï Bi·∫øn</option>
            </select>

            <button class="btn btn-outline" data-testid="button-filter">
              <i class="fas fa-filter"></i>
              B·ªô L·ªçc
            </button>
          </div>
        </div>
      </div>
    </section>

    <!-- Products Section -->
    <section id="products" class="products-section">
      <div class="container">
        <div class="section-header">
          <h2>S·∫£n Ph·∫©m N·ªïi B·∫≠t</h2>
          <span class="product-count" data-testid="text-product-count"
            >Hi·ªÉn th·ªã 8 s·∫£n ph·∫©m</span
          >
        </div>

        <div class="products-grid" id="productsGrid">
          <!-- Products will be dynamically inserted here -->
        </div>

        <div class="empty-state" id="emptyState" style="display: none">
          <div class="empty-icon">üì¶</div>
          <h3>Ch∆∞a c√≥ s·∫£n ph·∫©m n√†o</h3>
          <p>H√£y l√† ng∆∞·ªùi ƒë·∫ßu ti√™n ƒëƒÉng s·∫£n ph·∫©m!</p>
          <button
            class="btn btn-primary"
            onclick="openPostModal()"
            data-testid="button-post-first-product"
          >
            <i class="fas fa-plus"></i>
            ƒêƒÉng S·∫£n Ph·∫©m ƒê·∫ßu Ti√™n
          </button>
        </div>

        <!-- Pagination -->
        <div class="pagination" id="pagination" style="display: none">
          <button
            class="pagination-btn"
            id="prevBtn"
            onclick="changePage('prev')"
          >
            <i class="fas fa-chevron-left"></i>
          </button>
          <div id="pageNumbers"></div>
          <button
            class="pagination-btn"
            id="nextBtn"
            onclick="changePage('next')"
          >
            <i class="fas fa-chevron-right"></i>
          </button>
          <div class="pagination-info" id="paginationInfo"></div>
        </div>
      </div>
    </section>

    <!-- How It Works Section -->
    <section class="how-it-works">
      <div class="container">
        <div class="section-header centered">
          <h2>C√°ch Th·ª©c Ho·∫°t ƒê·ªông</h2>
          <p>
            H·ªá th·ªëng trao ƒë·ªïi th√¥ng minh gi√∫p b·∫°n t√¨m ki·∫øm nh·ªØng s·∫£n ph·∫©m ph√π
            h·ª£p v·ªõi gi√° tr·ªã t∆∞∆°ng ƒë∆∞∆°ng m·ªôt c√°ch nhanh ch√≥ng v√† an to√†n.
          </p>
        </div>

        <div class="steps">
          <div class="step">
            <div class="step-icon primary">
              <i class="fas fa-camera"></i>
            </div>
            <h3>ƒêƒÉng S·∫£n Ph·∫©m</h3>
            <p>
              Ch·ª•p ·∫£nh, m√¥ t·∫£ chi ti·∫øt v√† ƒë·∫∑t gi√° tr·ªã ∆∞·ªõc t√≠nh cho s·∫£n ph·∫©m c·ªßa
              b·∫°n.
            </p>
          </div>

          <div class="step">
            <div class="step-icon secondary">
              <i class="fas fa-search"></i>
            </div>
            <h3>T√¨m Ki·∫øm Ph√π H·ª£p</h3>
            <p>
              H·ªá th·ªëng s·∫Ω g·ª£i √Ω nh·ªØng s·∫£n ph·∫©m c√≥ gi√° tr·ªã t∆∞∆°ng ƒë∆∞∆°ng ƒë·ªÉ trao
              ƒë·ªïi.
            </p>
          </div>

          <div class="step">
            <div class="step-icon accent">
              <i class="fas fa-handshake"></i>
            </div>
            <h3>Ho√†n T·∫•t Giao D·ªãch</h3>
            <p>Th·ªèa thu·∫≠n chi ti·∫øt v√† th·ª±c hi·ªán trao ƒë·ªïi m·ªôt c√°ch an to√†n.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
      <div class="container">
        <div class="footer-content">
          <div class="footer-section">
            <div class="footer-logo">
              <i class="fas fa-exchange-alt"></i>
              <span>TreoDoiVN</span>
            </div>
            <p>
              N·ªÅn t·∫£ng trao ƒë·ªïi s·∫£n ph·∫©m h√†ng ƒë·∫ßu Vi·ªát Nam, k·∫øt n·ªëi c·ªông ƒë·ªìng
              chia s·∫ª.
            </p>
            <div class="social-links">
              <a href="#"><i class="fab fa-facebook"></i></a>
              <a href="#"><i class="fab fa-instagram"></i></a>
              <a href="#"><i class="fab fa-twitter"></i></a>
            </div>
          </div>

          <div class="footer-section">
            <h4>V·ªÅ Ch√∫ng T√¥i</h4>
            <ul>
              <li><a href="#">Gi·ªõi Thi·ªáu</a></li>
              <li><a href="#">C√°ch Ho·∫°t ƒê·ªông</a></li>
              <li><a href="#">An To√†n</a></li>
              <li><a href="#">Tin T·ª©c</a></li>
            </ul>
          </div>

          <div class="footer-section">
            <h4>H·ªó Tr·ª£</h4>
            <ul>
              <li><a href="#">Trung T√¢m Tr·ª£ Gi√∫p</a></li>
              <li><a href="#">Li√™n H·ªá</a></li>
              <li><a href="#">B√°o C√°o S·ª± C·ªë</a></li>
              <li><a href="#">FAQ</a></li>
            </ul>
          </div>

          <div class="footer-section">
            <h4>Ph√°p L√Ω</h4>
            <ul>
              <li><a href="#">ƒêi·ªÅu Kho·∫£n</a></li>
              <li><a href="#">Ch√≠nh S√°ch B·∫£o M·∫≠t</a></li>
              <li><a href="#">Quy ƒê·ªãnh C·ªông ƒê·ªìng</a></li>
            </ul>
          </div>
        </div>

        <hr class="footer-divider" />
        <div class="footer-bottom">
          <p>&copy; 2024 TreoDoiVN. T·∫•t c·∫£ c√°c quy·ªÅn ƒë∆∞·ª£c b·∫£o l∆∞u.</p>
        </div>
      </div>
    </footer>

    <!-- Mobile Navigation -->
    <div class="mobile-nav" id="mobileNav">
      <div class="mobile-nav-content">
        <div class="mobile-nav-header">
          <div class="logo">
            <i class="fas fa-exchange-alt"></i>
            <span>TreoDoiVN</span>
          </div>
          <button class="mobile-nav-close" onclick="closeMobileNav()">
            <i class="fas fa-times"></i>
          </button>
        </div>

        <div class="mobile-search">
          <input
            type="text"
            placeholder="T√¨m ki·∫øm s·∫£n ph·∫©m..."
            id="mobileSearchInput"
          />
        </div>

        <div class="mobile-nav-links">
          <a href="#home" onclick="closeMobileNav()">
            <i class="fas fa-home"></i>
            Trang Ch·ªß
          </a>
          <a href="#products" onclick="closeMobileNav()">
            <i class="fas fa-box"></i>
            S·∫£n Ph·∫©m
          </a>
          <a href="#exchanges" onclick="closeMobileNav()">
            <i class="fas fa-exchange-alt"></i>
            Trao ƒê·ªïi
          </a>
          <a href="#about" onclick="closeMobileNav()">
            <i class="fas fa-info-circle"></i>
            V·ªÅ Ch√∫ng T√¥i
          </a>
          <a href="#" onclick="openPostModal(); closeMobileNav();">
            <i class="fas fa-plus"></i>
            ƒêƒÉng S·∫£n Ph·∫©m
          </a>
        </div>
      </div>
    </div>

    <!-- Floating Action Button -->
    <button
      class="floating-btn"
      onclick="openPostModal()"
      data-testid="button-floating-post"
    >
      <i class="fas fa-plus"></i>
    </button>

    <!-- Post Product Modal -->
    <div class="modal" id="postModal">
      <div class="modal-content">
        <div class="modal-header">
          <h2>ƒêƒÉng S·∫£n Ph·∫©m M·ªõi</h2>
          <button class="modal-close" onclick="closePostModal()">
            <i class="fas fa-times"></i>
          </button>
        </div>

        <form class="post-form" onsubmit="submitProduct(event)">
          <!-- Image Upload -->
          <div class="form-group">
            <label>H√¨nh ·∫¢nh S·∫£n Ph·∫©m</label>
            <div class="image-upload-grid">
              <label class="image-upload-btn">
                <input
                  type="file"
                  multiple
                  accept="image/*"
                  onchange="handleImageUpload(event)"
                  data-testid="input-images"
                />
                <i class="fas fa-upload"></i>
                <span>Th√™m ·∫£nh</span>
              </label>
              <div id="imagePreview"></div>
            </div>
          </div>

          <!-- Product Details -->
          <div class="form-row">
            <div class="form-group">
              <label for="productName">T√™n S·∫£n Ph·∫©m *</label>
              <input
                type="text"
                id="productName"
                placeholder="VD: iPhone 14 Pro Max 256GB"
                required
                data-testid="input-product-name"
              />
            </div>

            <div class="form-group">
              <label for="category">Danh M·ª•c *</label>
              <select id="category" required data-testid="select-category">
                <option value="">Ch·ªçn danh m·ª•c</option>
                <option value="dien-tu">ƒêi·ªán T·ª≠</option>
                <option value="thoi-trang">Th·ªùi Trang</option>
                <option value="sach">S√°ch</option>
                <option value="gia-dung">ƒê·ªì Gia D·ª•ng</option>
                <option value="the-thao">Th·ªÉ Thao</option>
                <option value="khac">Kh√°c</option>
              </select>
            </div>
          </div>

          <div class="form-group">
            <label for="description">M√¥ T·∫£ Chi Ti·∫øt *</label>
            <textarea
              id="description"
              rows="4"
              placeholder="M√¥ t·∫£ t√¨nh tr·∫°ng, ngu·ªìn g·ªëc, l√Ω do trao ƒë·ªïi..."
              required
              data-testid="textarea-description"
            ></textarea>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label for="estimatedValue">Gi√° Tr·ªã ∆Ø·ªõc T√≠nh (VND) *</label>
              <input
                type="number"
                id="estimatedValue"
                placeholder="25000000"
                required
                data-testid="input-estimated-value"
              />
            </div>

            <div class="form-group">
              <label for="condition">T√¨nh Tr·∫°ng *</label>
              <select id="condition" required data-testid="select-condition">
                <option value="">Ch·ªçn t√¨nh tr·∫°ng</option>
                <option value="new">M·ªõi 100%</option>
                <option value="like-new">Nh∆∞ m·ªõi (95-99%)</option>
                <option value="very-good">R·∫•t t·ªët (85-94%)</option>
                <option value="good">T·ªët (70-84%)</option>
                <option value="fair">Kh√° (50-69%)</option>
              </select>
            </div>
          </div>

          <!-- Exchange Preferences -->
          <div class="form-group">
            <label>S·∫£n Ph·∫©m Mu·ªën Nh·∫≠n</label>
            <div class="exchange-prefs">
              <div class="pref-input">
                <input
                  type="text"
                  id="newPref"
                  placeholder="VD: ƒêi·ªán tho·∫°i, Laptop..."
                  data-testid="input-exchange-preference"
                />
                <button
                  type="button"
                  onclick="addExchangePref()"
                  data-testid="button-add-preference"
                >
                  <i class="fas fa-plus"></i>
                </button>
              </div>
              <div class="pref-tags" id="prefTags"></div>
            </div>
          </div>

          <!-- Action Buttons -->
          <div class="form-actions">
            <button
              type="button"
              class="btn btn-outline"
              onclick="closePostModal()"
              data-testid="button-cancel"
            >
              H·ªßy
            </button>
            <button
              type="submit"
              class="btn btn-primary"
              data-testid="button-submit-product"
            >
              ƒêƒÉng S·∫£n Ph·∫©m
            </button>
          </div>
        </form>
      </div>
    </div>

    <!-- Exchange Modal -->
    <div class="modal" id="exchangeModal">
      <div class="modal-content large">
        <div class="modal-header">
          <h2>Trao ƒê·ªïi S·∫£n Ph·∫©m</h2>
          <button class="modal-close" onclick="closeExchangeModal()">
            <i class="fas fa-times"></i>
          </button>
        </div>

        <div class="exchange-content">
          <div class="product-comparison">
            <div class="target-product">
              <h3>S·∫£n Ph·∫©m B·∫°n Mu·ªën</h3>
              <div class="product-card" id="targetProductCard">
                <!-- Target product details will be inserted here -->
              </div>
            </div>

            <div class="user-products">
              <h3>Ch·ªçn S·∫£n Ph·∫©m C·ªßa B·∫°n</h3>
              <div class="product-list" id="userProductList">
                <!-- User products will be listed here -->
              </div>
            </div>
          </div>

          <div
            class="exchange-analysis"
            id="exchangeAnalysis"
            style="display: none"
          >
            <h4>
              <i class="fas fa-calculator"></i> Ph√¢n T√≠ch Gi√° Tr·ªã Trao ƒê·ªïi
            </h4>
            <div class="value-comparison">
              <div class="value-item">
                <div class="value-amount" id="yourValue">0 VND</div>
                <div class="value-label">S·∫£n ph·∫©m c·ªßa b·∫°n</div>
              </div>
              <div class="exchange-arrow">
                <i class="fas fa-exchange-alt"></i>
              </div>
              <div class="value-item">
                <div class="value-amount" id="targetValue">0 VND</div>
                <div class="value-label">S·∫£n ph·∫©m ƒë·ªëi ph∆∞∆°ng</div>
              </div>
            </div>
            <div class="value-difference" id="valueDifference">
              Gi√° tr·ªã t∆∞∆°ng ƒë∆∞∆°ng
            </div>
          </div>

          <form class="exchange-form" onsubmit="submitExchange(event)">
            <div class="form-group">
              <label for="exchangeMessage">L·ªùi Nh·∫Øn Trao ƒê·ªïi</label>
              <textarea
                id="exchangeMessage"
                rows="3"
                placeholder="Xin ch√†o! T√¥i mu·ªën trao ƒë·ªïi s·∫£n ph·∫©m v·ªõi b·∫°n..."
                required
                data-testid="textarea-exchange-message"
              ></textarea>
            </div>

            <div class="form-actions">
              <button
                type="button"
                class="btn btn-outline"
                onclick="closeExchangeModal()"
                data-testid="button-cancel-exchange"
              >
                H·ªßy
              </button>
              <button
                type="submit"
                class="btn btn-primary"
                data-testid="button-send-exchange"
              >
                G·ª≠i Y√™u C·∫ßu Trao ƒê·ªïi
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <script src="style.js"></script>
  </body>
</html>
